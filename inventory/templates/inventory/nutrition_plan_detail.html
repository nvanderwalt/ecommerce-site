{% extends 'base.html' %}
{% load static %}
{% load inventory_tags %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-lg-8 col-xl-7">
            <!-- Single Unified Card -->
            <div class="card shadow-lg">
                <div class="card-body p-4 text-center">
                    
                    <!-- Header Section -->
                    <div class="row mb-4 justify-content-center">
                        <div class="col-lg-8 col-xl-7 text-center">
                            {% if plan.image %}
                            <div class="mb-4">
                                <img src="{{ plan.image.url }}" class="img-fluid rounded" alt="{{ plan.name }}" style="max-width: 200px;">
                            </div>
                            {% endif %}
                            
                            <h1 class="card-title mb-3">{{ plan.name }}</h1>
                            <p class="card-text lead">{{ plan.description }}</p>
                            
                            <!-- Diet Type Badge -->
                            <div class="mb-3">
                                <span class="badge bg-success fs-6">{{ plan.get_diet_type_display }}</span>
                            </div>
                            
                            <!-- Nutrition Facts -->
                            <div class="nutrition-facts mb-4">
                                <h6 class="text-muted mb-3">Daily Nutrition Targets</h6>
                                <div class="row text-center">
                                    <div class="col-3">
                                        <div class="nutrition-item">
                                            <div class="nutrition-value">{{ plan.calories_per_day }}</div>
                                            <small class="text-muted">Calories</small>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="nutrition-item">
                                            <div class="nutrition-value">{{ plan.protein_grams }}g</div>
                                            <small class="text-muted">Protein</small>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="nutrition-item">
                                            <div class="nutrition-value">{{ plan.carbs_grams }}g</div>
                                            <small class="text-muted">Carbs</small>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="nutrition-item">
                                            <div class="nutrition-value">{{ plan.fat_grams }}g</div>
                                            <small class="text-muted">Fat</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            

                        </div>
                    </div>
                    
                    <!-- Diet Information Section -->
                    <div class="row mb-4">
                        <div class="col-12 text-center">
                            <h4 class="mb-3">
                                <i class="fas fa-info-circle me-2"></i>About This Diet
                            </h4>
                            
                            {% if plan.diet_type == 'BAL' %}
                            <div class="diet-info">
                                <h6 class="text-success">Balanced Diet</h6>
                                <p class="small">A comprehensive nutrition plan that provides optimal balance of macronutrients to support overall health, fitness goals, and sustainable weight management.</p>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <h6 class="mt-3">Key Benefits:</h6>
                                        <ul class="small">
                                            <li>Supports muscle growth and recovery</li>
                                            <li>Provides sustained energy throughout the day</li>
                                            <li>Promotes healthy metabolism</li>
                                            <li>Includes variety of whole foods</li>
                                            <li>Suitable for most fitness levels</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <h6 class="mt-3">What's Included:</h6>
                                        <ul class="small">
                                            <li>7-day meal plan with 21 recipes</li>
                                            <li>Detailed nutrition breakdown</li>
                                            <li>Shopping lists and prep guides</li>
                                            <li>Progress tracking tools</li>
                                            <li>Expert nutritionist support</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            {% elif plan.diet_type == 'KET' %}
                            <div class="diet-info">
                                <h6 class="text-success">Ketogenic Diet</h6>
                                <p class="small">A high-fat, low-carbohydrate nutrition plan designed to help your body enter ketosis, burning fat for fuel instead of glucose for optimal fat loss and mental clarity.</p>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <h6 class="mt-3">Key Benefits:</h6>
                                        <ul class="small">
                                            <li>Promotes rapid fat burning and weight loss</li>
                                            <li>Enhances mental focus and clarity</li>
                                            <li>Stabilizes blood sugar levels</li>
                                            <li>Reduces inflammation in the body</li>
                                            <li>Increases energy and reduces cravings</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <h6 class="mt-3">What's Included:</h6>
                                        <ul class="small">
                                            <li>7-day keto meal plan with 21 recipes</li>
                                            <li>Low-carb, high-fat meal options</li>
                                            <li>Keto-friendly ingredient lists</li>
                                            <li>Macro tracking guidelines</li>
                                            <li>Expert keto nutritionist support</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            {% elif plan.diet_type == 'VEG' %}
                            <div class="diet-info">
                                <h6 class="text-success">Vegetarian Diet</h6>
                                <p class="small">A plant-based nutrition plan that excludes meat while providing all essential nutrients through diverse vegetarian protein sources and whole foods.</p>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <h6 class="mt-3">Key Benefits:</h6>
                                        <ul class="small">
                                            <li>Supports heart health and cholesterol reduction</li>
                                            <li>High in fiber and antioxidants</li>
                                            <li>Environmentally sustainable choice</li>
                                            <li>May reduce risk of chronic diseases</li>
                                            <li>Promotes healthy digestion</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <h6 class="mt-3">What's Included:</h6>
                                        <ul class="small">
                                            <li>7-day vegetarian meal plan with 21 recipes</li>
                                            <li>Plant-based protein sources</li>
                                            <li>Vegetarian shopping guides</li>
                                            <li>Nutritional balance guidelines</li>
                                            <li>Expert vegetarian nutritionist support</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.nutrition-facts {
    background: #f8f9fa;
    padding: 1rem;
    border-radius: 0.5rem;
}

.nutrition-item {
    padding: 0.5rem;
}

.nutrition-value {
    font-size: 1.5rem;
    font-weight: bold;
    color: #28a745;
    white-space: nowrap;
    min-width: 60px;
}

.nutrition-item small {
    white-space: nowrap;
    display: block;
}

.diet-info h6 {
    color: #28a745;
    font-weight: bold;
}

.diet-info ul {
    padding-left: 1.2rem;
}

.diet-info li {
    margin-bottom: 0.25rem;
}

.diet-info {
    max-width: 100%;
    margin: 0 auto;
}

.diet-info .row {
    justify-content: center;
}

/* Update button colors to match the lighter green */
.btn-success {
    background-color: #28a745 !important;
    border-color: #28a745 !important;
}

.btn-success:hover {
    background-color: #218838 !important;
    border-color: #1e7e34 !important;
}

.badge.bg-success {
    background-color: #28a745 !important;
}

.progress-bar.bg-success {
    background-color: #28a745 !important;
}

.text-success {
    color: #28a745 !important;
}
</style>


{% endblock %} 